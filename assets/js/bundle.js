var topAppBar,progressBar,appDrawer,navButtons,map,nonExactBar,searchBox,hintMenu,Powiaty,PowiatJSON,wojewodztwoData,ProvinceJSON,regioniData,DepartementJSON,regionsData,Kantone,KantonJSON,grossRegionenData,LuxembourgJSON,Kraje,KrajJSON,regioneData,Landkreise,LandkreisJSON,bundeslaenderDataDEU,Bezirke,BezirkJSON,bundeslaenderDataAUT,regionChooser,sortBy,dataFieldSelect,leaderboard,leaderboardData,gChartOptions,NUTS1Data={},casesFx={},vacFx={},pullFx={};const numCountries=8,downloadMapJSON=async e=>Promise.all(["maps","data"].map(a=>(async e=>{e=await(e=await fetch(window.location.href.split("/").slice(0,-1).join("/")+`/assets/${a}/${e}.json.zst`)).arrayBuffer();return e=fzstd.decompress(new Uint8Array(e)),e=(new TextDecoder).decode(e),JSON.parse(e)})(e))),LightenDarkenColor=(e,a)=>{e=e.slice(1);var e=parseInt(e,16),t=(e>>16)+a,r=(255<t?t=255:t<0&&(t=0),(e>>8&255)+a),e=(255<r?r=255:r<0&&(r=0),(255&e)+a);return 255<e?e=255:e<0&&(e=0),"#"+(e|r<<8|t<<16).toString(16).padStart(6,"0")},mapStyle={incidence:e=>2e3<e?"#311B92":1500<e?"#4527A0":1e3<e?"#512DA8":750<e?"#5E35B1":500<e?"#673AB7":300<e?"#7E57C2":200<e?"#9575CD":100<e?"#B39DDB":50<e?"#D1C4E9":"#EDE7F6",coverage:e=>90<e?"#004D40":85<e?"#00695C":80<e?"#00796B":75<e?"#00897B":70<e?"#009688":60<e?"#26A69A":50<e?"#4DB6AC":40<e?"#80CBC4":30<e?"#B2DFDB":"#E0F2F1",style:function(e,a){return{fillColor:baseColor=this[a](e),weight:2,fillOpacity:.7,opacity:1,color:LightenDarkenColor(baseColor,-25)}},mouseover:function(e,a){return{fillColor:baseColor=this[a](e),weight:4,fillOpacity:.9,opacity:1,color:LightenDarkenColor(baseColor,-25)}}},dataLoaded=()=>{progressBar.progress=progressBar.foundation.getProgress()+1/numCountries,.999<progressBar.foundation.getProgress()&&(setTimeout(()=>progressBar.close(),500),setupSearch(),google.charts.load("current",{packages:["table"],callback:drawLeaderboard}))},setStyleonData=(e,a,t=!0)=>{t&&(document.getElementsByTagName("link")[6].setAttribute("href",`assets/css/${e}.css`),document.getElementById("LKlabel").removeAttribute("style"),progressBar.open(),progressBar.foundation.setProgress(0)),document.querySelector("#searchName input").disabled=!0,$("#LKlabel").html(`Select an area to get ${e} data.`),$("#details thead tr:last-child th:last-child").html(a),$("#details tbody").css("display","none"),$("#details tr ~ tr, #details tbody tr, #regionChooser").css("visibility","hidden"),$(`#${e}-details`).css("display","table-row-group"),map.invalidateSize(!1)},nonAscii=($(()=>{$("body").css("visibility","visible"),map=L.map("map",{center:[46.5008882,9.5898338],zoom:6.5});appDrawer=mdc.drawer.MDCDrawer.attachTo(document.querySelector("aside.mdc-drawer")),document.querySelector("aside.mdc-drawer").addEventListener("MDCDrawer:opened",e=>document.activeElement.blur()),document.querySelector("aside.mdc-drawer .mdc-list").addEventListener("click",e=>{appDrawer.open=!1,document.activeElement.blur(),navButtons.forEach(e=>e.classList.remove("mdc-deprecated-list-item--activated")),e.target.classList.add("mdc-deprecated-list-item--activated")}),document.querySelector(".mdc-drawer-app-content").addEventListener("click",()=>appDrawer.open=!1),(topAppBar=mdc.topAppBar.MDCTopAppBar.attachTo(document.querySelector(".mdc-top-app-bar"))).setScrollTarget(document.querySelector(".flex-container-row")),topAppBar.listen("MDCTopAppBar:nav",()=>appDrawer.open=!0),(progressBar=new mdc.linearProgress.MDCLinearProgress(document.querySelector(".mdc-linear-progress"))).buffer=1,navButtons=document.querySelectorAll("aside.mdc-drawer a");const e=new mdc.ripple.MDCRipple(document.querySelector(".mdc-top-app-bar__navigation-icon"));e.unbounded=!0,navButtons[0].addEventListener("click",function(){gChartOptions=[{cases7:"7-day Incidence",cases14:"14-day Incidence",cases28:"28-day Incidence",deaths7:"7-day Mortality",deaths14:"14-day Mortality",deaths28:"28-day Mortality"},1e5,1],setStyleonData("cases","per "+1e5.toLocaleString()),Object.values(casesFx).forEach(e=>e.showOnMap())}),navButtons[1].addEventListener("click",function(){setStyleonData("vaccine","(%)"),gChartOptions=[{dose2_90:"90-day Full",dose2_180:"180-day Full",dose2:"Cumulative Full",dose3_90:"90-day Boosted",dose3_180:"180-day Boosted",dose3:"Cumulative Boosted"},100,3],Object.values(vacFx).forEach(e=>e.showOnMap())}),regionChooser=mdc.tabBar.MDCTabBar.attachTo(document.querySelector("#regionChooser")),setStyleonData("cases","per "+1e5.toLocaleString(),!1),Object.keys(pullFx).forEach(e=>pullFx[e]().then(()=>casesFx[e].showOnMap())),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:12,minZoom:5,attribution:"©OpenStreetMap, ©CartoDB"}).addTo(map)}),new RegExp(/[^\x00-\x7F]+/g)),replaceNonAscii=e=>e.normalize("NFD").replace(nonAscii,""),FuseGeoJSON=(e,a)=>{e=Object.values(e._layers).reduce((e,a)=>(e.push(a),e),[]);return e.forEach(e=>e.feature.properties[a+"_normalized"]=replaceNonAscii(e.feature.properties[a])),new Fuse(e,{includeScore:!0,ignoreFieldNorm:!0,keys:[`feature.properties.${a}_normalized`]})},setupSearch=()=>{const e=new Fuse(["Deutschland","Germany","Osterreich","Austria","Italia","Italy","France","Die Schweiz","La Suisse","La Svizzera","La Svizra","Switzerland","Letzebuerg","Luxembourg","Luxemburg","Polska","Poland","Cesko","Czechia"],{includeScore:!0}),a={DEU:FuseGeoJSON(LandkreisJSON,"BL"),FRA:FuseGeoJSON(DepartementJSON,"reg"),ITA:FuseGeoJSON(ProvinceJSON,"reg_name"),AUT:FuseGeoJSON(BezirkJSON,"BL"),CHE:FuseGeoJSON(KantonJSON,"reg_name"),POL:FuseGeoJSON(PowiatJSON,"WOJEWODZTWO"),CZE:FuseGeoJSON(KrajJSON,"reg")},r={DEU:FuseGeoJSON(LandkreisJSON,"BEZ_GEN"),FRA:FuseGeoJSON(DepartementJSON,"nom"),ITA:FuseGeoJSON(ProvinceJSON,"prov_name"),AUT:FuseGeoJSON(BezirkJSON,"name"),CHE:FuseGeoJSON(KantonJSON,"KTNAME"),POL:FuseGeoJSON(PowiatJSON,"JPT_NAZWA_"),CZE:FuseGeoJSON(KrajJSON,"name")};var o,s;const l=t=>(res=e.search(t),s=res.length?[{level:1,result:res}]:[],$.each(a,(e,a)=>{(res=a.search(t)).length&&(res.sort((e,a)=>e.score-a.score),s.push({country:e,level:2,result:res}))}),$.each(r,(e,a)=>{(res=a.search(t)).length&&(res.sort((e,a)=>e.score-a.score),s.push({country:e,level:3,result:res}))}),s),i=e=>{if(""!==e){var a,t,r={};if("string"==typeof e?(a=l(e),console.log(a),r=a.reduce((e,a)=>e.result[0].score<a.result[0].score||!(e.result[0].score>a.result[0].score)&&e.level<a.level?e:a,{level:4,result:[{score:1}]})):(Object.assign(r,o[e]),r.result=[r.result]),hintMenu.open=!1,console.log(r),1!=r.level)r.result[0].item.fireEvent("click");else{switch(r.result[0].item){case"Deutschland":case"Germany":t=LandkreisJSON;break;case"Osterreich":case"Austria":t=BezirkJSON;break;case"Italia":case"Italy":t=ProvinceJSON;break;case"France":t=DepartementJSON;break;case"Letzebuerg":case"Luxembourg":case"Luxemburg":t=LuxembourgJSON;break;case"Polska":case"Poland":t=PowiatJSON;break;case"Cesko":case"Czechia":t=KrajJSON;break;default:t=KantonJSON}Object.values(t._layers)[0].fireEvent("click")}3!=r.level&&regionChooser.activateTab(3-r.level),replaceNonAscii($("#LKlabel").html())!=replaceNonAscii(document.querySelector("#searchName input").value)&&"string"==typeof e&&(nonExactBar.labelText=`No exact match of "${e}" found. Showing results for "${$("#LKlabel").html()}"`,nonExactBar.open())}};searchBox=new mdc.textField.MDCTextField(document.querySelector("#searchName label")),document.querySelector("#searchName input").addEventListener("keyup",e=>{if(13===e.keyCode)i(e.target.value);else if(e=e.target.value){for(var e=l(e),a=((o=e.reduce((e,a)=>(e.push(...a.result.map(e=>({level:a.level,country:a.country,result:e}))),e),[])).sort((e,a)=>e.result.score-a.result.score),0),t=0;a<8&&t<o.length;){if(1==o[t].level)"Osterreich"==(labelString=o[t].result.item)?labelString="Österreich":"Letzebuerg"==labelString?labelString="Lëtzebuerg":"Cesko"==labelString&&(labelString="Česko");else{switch(o[t].country){case"DEU":label=["Deutschland","BL","BEZ_GEN"];break;case"FRA":label=["France","reg","nom"];break;case"ITA":label=["Italia","reg_name","prov_name"];break;case"AUT":label=["Österreich","BL","name"];break;case"POL":label=["Polska","WOJEWODZTWO","JPT_NAZWA_"];break;case"CZE":label=["Česko","reg","name"];break;default:label=["Schweiz/Suisse/Svizzera/Svizra","reg_name","KTNAME"]}labelString=3==o[t].level?o[t].result.item.feature.properties[label[2]]+", ":"",labelString=["Liechtenstein, ","Lëtzebuerg, ","Luxembourg, ","Luxemburg, "].every(e=>e!=labelString)?(labelString+=o[t].result.item.feature.properties[label[1]])+(", "+label[0]):labelString.slice(0,-2)}Array.from(n).slice(0,a).reduce((e,a)=>e&&a.innerHTML!=labelString,!0)&&(n[a].innerHTML=labelString,a++),t++}hintMenu.open=!0}else hintMenu.open=!1}),document.querySelector("#searchName input").disabled=!1,(nonExactBar=mdc.snackbar.MDCSnackbar.attachTo(document.getElementById("nonexact-match"))).timeoutMs=4e3,hintMenu=mdc.menu.MDCMenu.attachTo(document.querySelector("#searchNameHint"));var n=document.querySelectorAll("#searchNameHint .mdc-list-item__text");hintMenu.items.map(e=>new mdc.ripple.MDCRipple(e));hintMenu.setDefaultFocusState(mdc.menu.DefaultFocusState.NONE),hintMenu.setAnchorCorner(mdc.menuSurface.Corner.BOTTOM_START),document.querySelector("#searchNameHint").addEventListener("MDCMenu:selected",e=>{hintMenu.open=!1,document.querySelector("#searchName input").value=n[e.detail.index].innerHTML.split(",")[0],i(e.detail.index)})},resetTableColours=(casesFx.POL={lastUpdate:null,handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.cases7/t.properties.EWZ*1e5,"incidence")),mouseout:e=>PowiatJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.JPT_NAZWA_),casesTableFill(toPrint),$(".lastUpdated").html(casesFx.POL.lastUpdate),bgColor=mapStyle.incidence(t.properties.cases7/toPrint.EWZ*1e5)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=wojewodztwoData[Math.floor(parseInt(t.properties.JPT_KJ_I_1,10)/200)-1],$("#LKlabel").html(t.properties.WOJEWODZTWO),casesTableFill(toPrint),$(".lastUpdated").html(casesFx.POL.lastUpdate),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5);break;case 2:$("#LKlabel").html("Polska"),casesTableFill(NUTS1Data.PL),$(".lastUpdated").html(casesFx.POL.lastUpdate),bgColor=mapStyle.incidence(NUTS1Data.PL.cases7/NUTS1Data.PL.EWZ*1e5)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("County","Voivodeship",0)}})},showOnMap:()=>{void 0!==PowiatJSON&&map.removeLayer(PowiatJSON),(PowiatJSON=L.geoJSON(Powiaty,{style:e=>mapStyle.style(e.properties.cases7/e.properties.EWZ*1e5,"incidence"),onEachFeature:casesFx.POL.handleClick})).addTo(map),dataLoaded()}},vacFx.POL={powLastUpdate:null,wojLastUpdate:null,globalLastUpdate:null,handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.dose2/t.properties.EWZ*100,"coverage")),mouseout:e=>PowiatJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.JPT_NAZWA_),vacTableFill(toPrint),$(".lastUpdated").html(vacFx.POL.powLastUpdate),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=wojewodztwoData[Math.floor(parseInt(t.properties.JPT_KJ_I_1,10)/200)-1],$("#LKlabel").html(t.properties.WOJEWODZTWO),vacTableFill(toPrint),$(".lastUpdated").html(vacFx.POL.wojLastUpdate),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100);break;case 2:$("#LKlabel").html("Polska"),vacTableFill(NUTS1Data.PL),$(".lastUpdated").html(vacFx.POL.globalLastUpdate),bgColor=mapStyle.coverage(NUTS1Data.PL.dose2/NUTS1Data.PL.EWZ*100)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("County","Voivodeship",0)}})},showOnMap:()=>{void 0!==PowiatJSON&&map.removeLayer(PowiatJSON),(PowiatJSON=L.geoJSON(Powiaty,{style:e=>mapStyle.style(e.properties.dose2/e.properties.EWZ*100,"coverage"),onEachFeature:vacFx.POL.handleClick})).addTo(map),dataLoaded()}},pullFx.POL=async()=>{[Powiaty,result]=await downloadMapJSON("POL"),wojewodztwoData=result.NUTS2,Powiaty.features.forEach((e,a)=>{Object.assign(e.properties,result.NUTS3[a]),wojewodztwoData[Math.floor(parseInt(e.properties.JPT_KJ_I_1,10)/200)-1].EWZ+=e.properties.EWZ}),NUTS1Data.PL=result.NUTS1,NUTS1Data.PL.EWZ=wojewodztwoData.reduce((e,a)=>e+a.EWZ,0),casesFx.POL.lastUpdate=result.lastUpdate.cases,vacFx.POL.powLastUpdate=result.lastUpdate.pow,vacFx.POL.wojLastUpdate=result.lastUpdate.woj,vacFx.POL.globalLastUpdate=result.lastUpdate.rep},casesFx.ITA={regLastUpdate:null,proLastUpdate:null,handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.cases7/t.properties.EWZ*1e5,"incidence")),mouseout:e=>ProvinceJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.prov_name),$("#pop").html(toPrint.EWZ.toLocaleString()),["7","14","28"].forEach(e=>{$("#cases"+e).html(toPrint["cases"+e].toLocaleString()),$("#incidence"+e).html((toPrint["cases"+e]/toPrint.EWZ*1e5).toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3})),$("#deaths"+e+", #mortality"+e).html("N/A")}),$(".lastUpdated").html(casesFx.ITA.proLastUpdate),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=regioniData[t.properties.reg_istat_code_num-1],$("#LKlabel").html(t.properties.reg_name),casesTableFill(toPrint),$(".lastUpdated").html(casesFx.ITA.regLastUpdate),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5);break;case 2:$("#LKlabel").html("Italia"),casesTableFill(NUTS1Data.IT),$(".lastUpdated").html(casesFx.ITA.regLastUpdate),bgColor=mapStyle.incidence(NUTS1Data.IT.cases7/NUTS1Data.IT.EWZ*1e5)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("Province","Region",0)}})},showOnMap:()=>{void 0!==ProvinceJSON&&map.removeLayer(ProvinceJSON),(ProvinceJSON=L.geoJSON(Province,{style:e=>mapStyle.style(e.properties.cases7/e.properties.EWZ*1e5,"incidence"),onEachFeature:casesFx.ITA.handleClick})).addTo(map),dataLoaded()}},vacFx.ITA={lastUpdate:null,handleClick:(r,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(100*(4==r.properties.reg_istat_code_num?r.properties.dose2/r.properties.EWZ:regioniData[r.properties.reg_istat_code_num-1].dose2/regioniData[r.properties.reg_istat_code_num-1].EWZ),"coverage")),mouseout:e=>ProvinceJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=r.properties,$("#LKlabel").html(toPrint.prov_name),4==toPrint.reg_istat_code_num?vacTableFill(toPrint):$("#vaccine-details .mdc-data-table__cell--numeric").html("N/A"),$(".lastUpdated").html(vacFx.ITA.lastUpdate),bgColor=mapStyle.coverage(100*(4==toPrint.reg_istat_code_num?toPrint.dose2/toPrint.EWZ:regioniData[toPrint.reg_istat_code_num-1].dose2/regioniData[toPrint.reg_istat_code_num-1].EWZ))},t=()=>{toPrint=regioniData[r.properties.reg_istat_code_num-1],$("#LKlabel").html(r.properties.reg_name),vacTableFill(toPrint),$(".lastUpdated").html(vacFx.ITA.lastUpdate),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:t();break;case 2:$("#LKlabel").html("Italia"),vacTableFill(NUTS1Data.IT),$(".lastUpdated").html(vacFx.ITA.lastUpdate),bgColor=mapStyle.coverage(NUTS1Data.IT.dose2/NUTS1Data.IT.EWZ*100)}resetTableColours(bgColor)}),4==r.properties.reg_istat_code_num?(a(),displayTable("Province","Region",0)):(t(),displayTable("Province","Region",1)),resetTableColours(bgColor)}})},showOnMap:()=>{void 0!==ProvinceJSON&&map.removeLayer(ProvinceJSON),(ProvinceJSON=L.geoJSON(Province,{style:e=>mapStyle.style(100*(4==e.properties.reg_istat_code_num?e.properties.dose2/e.properties.EWZ:regioniData[e.properties.reg_istat_code_num-1].dose2/regioniData[e.properties.reg_istat_code_num-1].EWZ),"coverage"),onEachFeature:vacFx.ITA.handleClick})).addTo(map),dataLoaded()}},pullFx.ITA=async()=>{[Province,result]=await downloadMapJSON("ITA"),regioniData=result.NUTS2,Province.features.forEach((e,a)=>{Object.assign(e.properties,result.NUTS3[a]),regioniData[e.properties.reg_istat_code_num-1].EWZ+=e.properties.EWZ}),NUTS1Data.IT=result.NUTS1,NUTS1Data.IT.EWZ=regioniData.reduce((e,a)=>e+=a.EWZ,0),casesFx.ITA.proLastUpdate=result.lastUpdate.pro,casesFx.ITA.regLastUpdate=result.lastUpdate.reg,vacFx.ITA.lastUpdate=result.lastUpdate.vac},casesFx.FRA={handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.cases7/t.properties.EWZ*1e5,"incidence")),mouseout:e=>DepartementJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.nom),casesTableFill(toPrint),$(".lastUpdated").html(`Cases: ${toPrint.lastUpdate.cases}<br>Deaths: `+toPrint.lastUpdate.deaths),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=regionsData[t.properties.reg_code],$("#LKlabel").html(t.properties.reg),casesTableFill(toPrint),$(".lastUpdated").html(`Cases: ${toPrint.lastUpdate.cases}<br>Deaths: `+toPrint.lastUpdate.deaths),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5);break;case 2:$("#LKlabel").html("France"),casesTableFill(NUTS1Data.FR),$(".lastUpdated").html(`Cases: ${NUTS1Data.FR.lastUpdate.cases}<br>Deaths: `+NUTS1Data.FR.lastUpdate.deaths),bgColor=mapStyle.incidence(NUTS1Data.FR.cases7/NUTS1Data.FR.EWZ*1e5)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("Department","Region",0)}})},showOnMap:()=>{void 0!==DepartementJSON&&map.removeLayer(DepartementJSON),(DepartementJSON=L.geoJSON(Departements,{style:e=>mapStyle.style(e.properties.cases7/e.properties.EWZ*1e5,"incidence"),onEachFeature:casesFx.FRA.handleClick})).addTo(map),dataLoaded()}},vacFx.FRA={handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.dose2/t.properties.EWZ*100,"coverage")),mouseout:e=>DepartementJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.nom),vacTableFill(toPrint),$(".lastUpdated").html(toPrint.lastUpdate.vac),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=regionsData[t.properties.reg_code],$("#LKlabel").html(t.properties.reg),vacTableFill(toPrint),$(".lastUpdated").html(toPrint.lastUpdate.vac),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100);break;case 2:$("#LKlabel").html("France"),vacTableFill(NUTS1Data.FR),$(".lastUpdated").html(NUTS1Data.FR.lastUpdate.vac),bgColor=mapStyle.coverage(NUTS1Data.FR.dose2/NUTS1Data.FR.EWZ*100)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("Department","Region",0)}})},showOnMap:()=>{void 0!==DepartementJSON&&map.removeLayer(DepartementJSON),(DepartementJSON=L.geoJSON(Departements,{style:e=>mapStyle.style(e.properties.dose2/e.properties.EWZ*100,"coverage"),onEachFeature:vacFx.FRA.handleClick})).addTo(map),dataLoaded()}},pullFx.FRA=async()=>{[Departements,result]=await downloadMapJSON("FRA"),Departements.features.forEach((e,a)=>Object.assign(e.properties,result.NUTS3[a])),regionsData=result.NUTS2,NUTS1Data.FR=result.NUTS1},casesFx.CHE={handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.cases7/t.properties.EWZ*1e5,"incidence")),mouseout:e=>KantonJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.KTNAME),casesTableFill(toPrint),$(".lastUpdated").html(`Cases: ${toPrint.lastUpdate.cases}<br>Deaths: `+toPrint.lastUpdate.deaths),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5)};regionChooser.listen("MDCTabBar:activated",e=>{if("FL"!=t.properties.KTCODE)switch(e.detail.index){case 0:a();break;case 1:toPrint=grossRegionenData[t.properties.GRNR-1],$("#LKlabel").html(toPrint.reg_name),casesTableFill(toPrint),$(".lastUpdated").html(`Cases: ${toPrint.lastUpdate.cases}<br>Deaths: `+toPrint.lastUpdate.deaths),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5);break;case 2:$("#LKlabel").html("Die Schweiz / La Suisse / La Svizzera / La Svizra"),casesTableFill(NUTS1Data.CH),$(".lastUpdated").html(`Cases: ${NUTS1Data.CH.lastUpdate.cases}<br>Deaths: `+NUTS1Data.CH.lastUpdate.deaths),bgColor=mapStyle.incidence(NUTS1Data.CH.cases7/NUTS1Data.CH.EWZ*1e5)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),"FL"==t.properties.KTCODE?(displayTable("Country","Country",0),$("#regionChooser #mdc-tab-2, #regionChooser #mdc-tab-3").prop("disabled",!0)):displayTable("Canton","Region",0)}})},showOnMap:()=>{void 0!==KantonJSON&&map.removeLayer(KantonJSON),(KantonJSON=L.geoJSON(Kantone,{style:e=>mapStyle.style(e.properties.cases7/e.properties.EWZ*1e5,"incidence"),onEachFeature:casesFx.CHE.handleClick})).addTo(map),dataLoaded()}},vacFx.CHE={handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.dose2/t.properties.EWZ*100,"coverage")),mouseout:e=>KantonJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.KTNAME),vacTableFill(toPrint),$(".lastUpdated").html(toPrint.lastUpdate.vac),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100)};regionChooser.listen("MDCTabBar:activated",e=>{if("FL"!=t.properties.KTCODE)switch(e.detail.index){case 0:a();break;case 1:toPrint=grossRegionenData[t.properties.GRNR-1],$("#LKlabel").html(toPrint.name),vacTableFill(toPrint),$(".lastUpdated").html(toPrint.lastUpdate.vac),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100);break;case 2:$("#LKlabel").html("Die Schweiz/La Suisse/La Svizzera/La Svizra"),vacTableFill(NUTS1Data.CH),$(".lastUpdated").html(NUTS1Data.CH.lastUpdate.vac),bgColor=mapStyle.coverage(NUTS1Data.CH.dose2/NUTS1Data.CH.EWZ*100)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),"FL"==t.properties.KTCODE?(displayTable("Country","Country",0),$("#regionChooser #mdc-tab-2, #regionChooser #mdc-tab-3").prop("disabled",!0)):displayTable("Canton","Region",0)}})},showOnMap:()=>{void 0!==KantonJSON&&map.removeLayer(KantonJSON),(KantonJSON=L.geoJSON(Kantone,{style:e=>mapStyle.style(e.properties.dose2/e.properties.EWZ*100,"coverage"),onEachFeature:vacFx.CHE.handleClick})).addTo(map),dataLoaded()}},pullFx.CHE=async()=>{[Kantone,result]=await downloadMapJSON("CHE"),grossRegionenData=result.NUTS2,Kantone.features.forEach((e,a)=>{Object.assign(e.properties,result.NUTS3[a]),e.properties.reg_name=void 0!==e.properties.GRNR?grossRegionenData[e.properties.GRNR-1].name:""}),NUTS1Data.CH=result.NUTS1},casesFx.LUX={handleClick:(a,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(a.properties.cases7/a.properties.EWZ*1e5,"incidence")),mouseout:e=>LuxembourgJSON.resetStyle(e.target),click:()=>{toPrint=a.properties,$("#LKlabel").html(toPrint.name),casesTableFill(toPrint),$(".lastUpdated").html(toPrint.lastUpdate.cases),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5),resetTableColours(bgColor),displayTable("Country","Country",0),$("#regionChooser #mdc-tab-2, #regionChooser #mdc-tab-3").prop("disabled",!0)}})},showOnMap:()=>{void 0!==LuxembourgJSON&&map.removeLayer(LuxembourgJSON),(LuxembourgJSON=L.geoJSON(Luxembourg,{style:e=>mapStyle.style(e.properties.cases7/e.properties.EWZ*1e5,"incidence"),onEachFeature:casesFx.LUX.handleClick})).addTo(map),dataLoaded()}},vacFx.LUX={handleClick:(a,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(a.properties.dose2/a.properties.EWZ*100,"coverage")),mouseout:e=>LuxembourgJSON.resetStyle(e.target),click:()=>{toPrint=a.properties,$("#LKlabel").html(toPrint.name),vacTableFill(toPrint),$(".lastUpdated").html(toPrint.lastUpdate.vac),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100),resetTableColours(bgColor),displayTable("Country","Country",0),$("#regionChooser #mdc-tab-2, #regionChooser #mdc-tab-3").prop("disabled",!0)}})},showOnMap:()=>{void 0!==LuxembourgJSON&&map.removeLayer(LuxembourgJSON),(LuxembourgJSON=L.geoJSON(Luxembourg,{style:e=>mapStyle.style(e.properties.dose2/e.properties.EWZ*100,"coverage"),onEachFeature:vacFx.LUX.handleClick})).addTo(map),dataLoaded()}},pullFx.LUX=async()=>{[Luxembourg,result]=await downloadMapJSON("LUX"),Object.assign(Luxembourg.features[0].properties,result)},casesFx.CZE={lastUpdate:null,handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.cases7/t.properties.EWZ*1e5,"incidence")),mouseout:e=>KrajJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.name),casesTableFill(toPrint),$(".lastUpdated").html(casesFx.CZE.lastUpdate),bgColor=mapStyle.incidence(t.properties.cases7/toPrint.EWZ*1e5)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=regioneData[Math.floor(parseInt(t.properties.id.slice(3),10)/10)-1],$("#LKlabel").html(toPrint.name),casesTableFill(toPrint),$(".lastUpdated").html(casesFx.CZE.lastUpdate),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5);break;case 2:$("#LKlabel").html("Česko"),casesTableFill(NUTS1Data.CZ),$(".lastUpdated").html(casesFx.CZE.lastUpdate),bgColor=mapStyle.incidence(NUTS1Data.CZ.cases7/NUTS1Data.CZ.EWZ*1e5)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("Kraj","Region",0)}})},showOnMap:()=>{void 0!==KrajJSON&&map.removeLayer(KrajJSON),(KrajJSON=L.geoJSON(Kraje,{style:e=>mapStyle.style(e.properties.cases7/e.properties.EWZ*1e5,"incidence"),onEachFeature:casesFx.CZE.handleClick})).addTo(map),dataLoaded()}},vacFx.CZE={lastUpdate:null,handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.dose2/t.properties.EWZ*100,"coverage")),mouseout:e=>KrajJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.name),vacTableFill(toPrint),$(".lastUpdated").html(vacFx.CZE.lastUpdate),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=regioneData[Math.floor(parseInt(t.properties.id.slice(3),10)/10)-1],$("#LKlabel").html(toPrint.name),vacTableFill(toPrint),$(".lastUpdated").html(vacFx.CZE.lastUpdate),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100);break;case 2:$("#LKlabel").html("Česko"),vacTableFill(NUTS1Data.CZ),$(".lastUpdated").html(vacFx.CZE.lastUpdate),bgColor=mapStyle.coverage(NUTS1Data.CZ.dose2/NUTS1Data.CZ.EWZ*100)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("Kraj","Region",0)}})},showOnMap:()=>{void 0!==KrajJSON&&map.removeLayer(KrajJSON),(KrajJSON=L.geoJSON(Kraje,{style:e=>mapStyle.style(e.properties.dose2/e.properties.EWZ*100,"coverage"),onEachFeature:vacFx.CZE.handleClick})).addTo(map),dataLoaded()}},pullFx.CZE=async()=>{[Kraje,result]=await downloadMapJSON("CZE"),regioneData=result.NUTS2,Kraje.features.forEach((e,a)=>{Object.assign(e.properties,result.NUTS3[a]),regioneData[Math.floor(parseInt(e.properties.id.slice(3),10)/10)-1].EWZ+=e.properties.EWZ,e.properties.reg=regioneData[Math.floor(parseInt(e.properties.id.slice(3),10)/10)-1].name}),NUTS1Data.CZ=result.NUTS1,NUTS1Data.CZ.EWZ=regioneData.reduce((e,a)=>e+a.EWZ,0),casesFx.CZE.lastUpdate=result.lastUpdate.cases,vacFx.CZE.lastUpdate=result.lastUpdate.vac},casesFx.DEU={lastUpdate:null,handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.cases7/t.properties.EWZ*1e5,"incidence")),mouseout:e=>LandkreisJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.BEZ_GEN),casesTableFill(toPrint),$(".lastUpdated").html(casesFx.DEU.lastUpdate),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=bundeslaenderDataDEU[parseInt(t.properties.BL_ID,10)-1],$("#LKlabel").html(t.properties.BL),casesTableFill(toPrint),$(".lastUpdated").html(casesFx.DEU.lastUpdate),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5);break;case 2:$("#LKlabel").html("Deutschland"),$("#pop").html(NUTS1Data.DE.EWZ.toLocaleString()),casesTableFill(NUTS1Data.DE),$(".lastUpdated").html(casesFx.DEU.lastUpdate),bgColor=mapStyle.incidence(NUTS1Data.DE.cases7/NUTS1Data.DE.EWZ*1e5)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("County","State",0)}})},showOnMap:()=>{void 0!==LandkreisJSON&&map.removeLayer(LandkreisJSON),(LandkreisJSON=L.geoJSON({type:Landkreise.type,crs:Landkreise.crs,features:Landkreise.features.filter(e=>"11000"!=e.properties.RS)},{style:e=>mapStyle.style(e.properties.cases7/e.properties.EWZ*1e5,"incidence"),onEachFeature:casesFx.DEU.handleClick})).addTo(map),dataLoaded()}},vacFx.DEU={lastUpdate:null,handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.dose2/t.properties.EWZ*100,"coverage")),mouseout:e=>LandkreisJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.BEZ_GEN),vacTableFill(toPrint),$(".lastUpdated").html(vacFx.DEU.lastUpdate),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=bundeslaenderDataDEU[parseInt(t.properties.BL_ID,10)-1],$("#LKlabel").html(t.properties.BL),vacTableFill(toPrint),$(".lastUpdated").html(vacFx.DEU.lastUpdate),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100);break;case 2:$("#LKlabel").html("Deutschland"),vacTableFill(NUTS1Data.DE),$(".lastUpdated").html(vacFx.DEU.lastUpdate),bgColor=mapStyle.coverage(NUTS1Data.DE.dose2/NUTS1Data.DE.EWZ*100)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("County","State",0)}})},showOnMap:()=>{void 0!==LandkreisJSON&&map.removeLayer(LandkreisJSON),(LandkreisJSON=L.geoJSON({type:Landkreise.type,crs:Landkreise.crs,features:Landkreise.features.filter(e=>"11"!=e.properties.RS.substring(0,2)||"11000"==e.properties.RS)},{style:e=>mapStyle.style(e.properties.dose2/e.properties.EWZ*100,"coverage"),onEachFeature:vacFx.DEU.handleClick})).addTo(map),dataLoaded()}},pullFx.DEU=async()=>{[Landkreise,result]=await downloadMapJSON("DEU"),Landkreise.features.forEach((e,a)=>{Object.assign(e.properties,result.NUTS3[a]),e.properties.BEZ_GEN=e.properties.BEZ+" "+e.properties.GEN}),bundeslaenderDataDEU=result.NUTS2,NUTS1Data.DE=result.NUTS1,casesFx.DEU.lastUpdate=result.lastUpdate.cases,vacFx.DEU.lastUpdate=result.lastUpdate.vac},casesFx.AUT={handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.cases7/t.properties.EWZ*1e5,"incidence")),mouseout:e=>BezirkJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.name),casesTableFill(toPrint),$(".lastUpdated").html(toPrint.lastUpdate.cases),bgColor=mapStyle.incidence(t.properties.cases7/toPrint.EWZ*1e5)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=bundeslaenderDataAUT[Math.floor(parseInt(t.properties.iso,10)/100)-1],$("#LKlabel").html(t.properties.BL),casesTableFill(toPrint),$(".lastUpdated").html(toPrint.lastUpdate.cases),bgColor=mapStyle.incidence(toPrint.cases7/toPrint.EWZ*1e5);break;case 2:$("#LKlabel").html("Österreich"),casesTableFill(NUTS1Data.AT),$(".lastUpdated").html(NUTS1Data.AT.lastUpdate.cases),bgColor=mapStyle.incidence(NUTS1Data.AT.cases7/NUTS1Data.AT.EWZ*1e5)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("District","State",0)}})},showOnMap:()=>{void 0!==BezirkJSON&&map.removeLayer(BezirkJSON),(BezirkJSON=L.geoJSON(Bezirke,{style:e=>mapStyle.style(e.properties.cases7/e.properties.EWZ*1e5,"incidence"),onEachFeature:casesFx.AUT.handleClick})).addTo(map),dataLoaded()}},vacFx.AUT={handleClick:(t,e)=>{e.on({mouseover:e=>e.target.setStyle(mapStyle.mouseover(t.properties.dose2/t.properties.EWZ*100,"coverage")),mouseout:e=>BezirkJSON.resetStyle(e.target),click:()=>{const a=()=>{toPrint=t.properties,$("#LKlabel").html(toPrint.name),$("#pop").html(toPrint.EWZ),$("#vaccine-details .mdc-data-table__cell--numeric").html("N/A"),["2","3"].forEach(e=>{$("#dose"+e).html(toPrint["dose"+e].toLocaleString()),$("#coverage"+e).html((toPrint["dose"+e]/toPrint.EWZ*100).toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}))}),$(".lastUpdated").html(toPrint.lastUpdate.vac),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100)};regionChooser.listen("MDCTabBar:activated",e=>{switch(e.detail.index){case 0:a();break;case 1:toPrint=bundeslaenderDataAUT[Math.floor(parseInt(t.properties.iso,10)/100)-1],$("#LKlabel").html(t.properties.BL),vacTableFill(toPrint),$(".lastUpdated").html(toPrint.lastUpdate.vac),bgColor=mapStyle.coverage(toPrint.dose2/toPrint.EWZ*100);break;case 2:$("#LKlabel").html("Österreich"),vacTableFill(NUTS1Data.AT),$(".lastUpdated").html(NUTS1Data.AT.lastUpdate.vac),bgColor=mapStyle.coverage(NUTS1Data.AT.dose2/NUTS1Data.AT.EWZ*100)}resetTableColours(bgColor)}),a(),resetTableColours(bgColor),displayTable("County","State",0)}})},showOnMap:()=>{void 0!==BezirkJSON&&map.removeLayer(BezirkJSON),(BezirkJSON=L.geoJSON(Bezirke,{style:e=>mapStyle.style(e.properties.dose2/e.properties.EWZ*100,"coverage"),onEachFeature:vacFx.AUT.handleClick})).addTo(map),dataLoaded()}},pullFx.AUT=async()=>{[Bezirke,result]=await downloadMapJSON("AUT"),bundeslaenderDataAUT=result.NUTS2,Bezirke.features.forEach((e,a)=>{Object.assign(e.properties,result.NUTS3[a]),e.properties.BL=bundeslaenderDataAUT[Math.floor(e.properties.GKZ/100)-1].BL}),NUTS1Data.AT=result.NUTS1},e=>{var a=128<.2126*parseInt(e.substring(1,3),16)+.7152*parseInt(e.substring(3,5),16)+.0722*parseInt(e.substring(5,7),16)?"rgba(0,0,0,0.87)":"rgba(255,255,255,0.87)";$("#details .mdc-data-table__header-cell, #details .mdc-data-table__cell").css({"background-color":e,color:a})}),casesTableFill=t=>{$("#pop").html(t.EWZ.toLocaleString()),["7","14","28"].forEach(a=>{[["cases","incidence"],["deaths","mortality"]].forEach(e=>{$("#"+e[0]+a).html(t[e[0]+a].toLocaleString()),$("#"+e[1]+a).html((t[e[0]+a]/t.EWZ*1e5).toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}))})})},vacTableFill=t=>{$("#pop").html(t.EWZ.toLocaleString()),["","_90","_180"].forEach(a=>["2","3"].forEach(e=>{$("#dose"+e+a).html(t["dose"+e+a].toLocaleString()),$("#coverage"+e+a).html((t["dose"+e+a]/t.EWZ*100).toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}))}))},displayTable=(e,a,t)=>{$("#regionL3").html(e),$("#regionL2").html(a),$("#regionChooser #mdc-tab-2, #regionChooser #mdc-tab-3").prop("disabled",!1),regionChooser.activateTab(t),$("#regionChooser .mdc-tab").css("display","flex"),$("#details tr, #regionChooser").css("visibility","visible")},convertDate={regex:new RegExp(/^(\d{4})-(\d{2})-(\d{2})/),fx:e=>(dateArray=e.match(convertDate.regex),new Date(Date.UTC(dateArray[1],parseInt(dateArray[2],10)-1,dateArray[3])))},drawLeaderboard=()=>{[tableData,factor,sortColumn]=gChartOptions,void 0!==leaderboard&&leaderboard.clearChart(),(leaderboardData=new google.visualization.DataTable).addColumn("string","Location"),$.each(tableData,(e,a)=>leaderboardData.addColumn("number",a)),[[LandkreisJSON,"BEZ_GEN"],[DepartementJSON,"nom"],[ProvinceJSON,"prov_name"],[BezirkJSON,"name"],[KantonJSON,"KTNAME"],[LuxembourgJSON,"name"],[PowiatJSON,"JPT_NAZWA_"]].forEach(t=>leaderboardData.addRows(Object.values(t[0]._layers).reduce((e,a)=>((unit=[]).push(a.feature.properties[t[1]]),Object.keys(tableData).forEach(e=>unit.push(a.feature.properties[e]/a.feature.properties.EWZ*factor)),e.push(unit),e),[]))),leaderboard=new google.visualization.Table(document.getElementById("leaderboard"));var s=new google.visualization.DataView(leaderboardData),l={allowHtml:!0,alternatingRowStyle:!1,cssClassNames:{headerRow:"mdc-data-table__header-row",headerCell:"mdc-data-table__header-cell",tableRow:"mdc-data-table__row",tableCell:"mdc-data-table__cell--numeric",selectedTableRow:"mdc-data-table__row--selected",hoverTableRow:"mdc-data-table__row--hover"},showRowNumber:!0,page:"enable",pageSize:20,sortColumn:sortColumn,sortAscending:!1};google.visualization.events.addListener(leaderboard,"sort",a=>{var e=[],t=[],r=a.ascending?1:-1;if(a.column){for(var o=0;o<leaderboardData.getNumberOfRows();o++)e.push({index:leaderboardData.getValue(o,a.column),location:leaderboardData.getValue(o,0)});e.sort((e,a)=>isNaN(e.index)?1:isNaN(a.index)?-1:(e.index-a.index)*r),e.forEach(e=>t.push(leaderboardData.getFilteredRows([{column:a.column,value:e.index},{column:0,value:e.location}])[0]))}else{for(o=0;o<leaderboardData.getNumberOfRows();o++)e.push({index:leaderboardData.getValue(o,a.column)});e.sort((e,a)=>e.index<a.index?r:-r),e.forEach(e=>t.push(leaderboardData.getFilteredRows([{column:a.column,value:e.index}])[0]))}console.log("Sorted Row Order: "+t),s.setRows(t),l.sortColumn=a.column,l.sortAscending=a.ascending,leaderboard.draw(s,l)});leaderboard.draw(s,l),$("#leaderboard table td:nth-child(2)").removeClass("mdc-data-table__cell--numeric").addClass("mdc-data-table__cell")};$(()=>{(sortBy=mdc.list.MDCList.attachTo(document.querySelector("#sortBy ul"))).listElements.map(e=>new mdc.ripple.MDCRipple(e));var a=sortBy.selectedIndex;document.querySelector("#sortBy ul").addEventListener("MDCList:action",e=>{e.detail.index!=a&&(e.detail.index?["cases-details","vaccine-details"].forEach(e=>{$(`#${e} tr:nth-child(4)`).insertAfter(`#${e} tr:nth-child(1)`),$(`#${e} tr:nth-child(5)`).insertAfter(`#${e} tr:nth-child(3)`)}):["cases-details","vaccine-details"].forEach(e=>{$(`#${e} tr:nth-child(4)`).insertAfter(`#${e} tr:nth-child(5)`),$(`#${e} tr:nth-child(2)`).insertAfter(`#${e} tr:nth-child(4)`)})),a=e.detail.index}),gChartOptions=[{cases7:"7-day Incidence",cases14:"14-day Incidence",cases28:"28-day Incidence",deaths7:"7-day Mortality",deaths14:"14-day Mortality",deaths28:"28-day Mortality"},1e5,1]});